\section{Structure and Hierarchy within a Colony}\label{sec:colony-structure}
The purpose of a colony is to facilitate coordination among its members and direct their collective effort towards some goal(s). In light of this, one of the most central functions of a colony is to manage work assignments.

Work in a colony is divided up into well-defined jobs called `tasks', which can then be organised within a colony into `domains'. In this section, we describe each of these in detail and how we anticipate each to be used.

\subsection{Tasks}\label{sec:tasks}

The smallest structural unit in a colony is the `task'. A task represents a small unit of work that requires no further subdivision or delegation. A task has three roles associated with it:
\begin{itemize}
\item An administrator --- someone responsible for defining the task.
\item A worker --- someone responsible for executing the task.
\item An evaluator --- someone responsible for checking the work has been completed.
\end{itemize}

These roles are assigned to addresses. While we anticipate that tasks will be mainly be defined such that each of these roles is assigned to an individual, there is nothing preventing these addresses being contracts under the control of multiple people.\footnote{With the protocol described in this version of the document, any reputation earned would be assigned to the contract in question and not able to be moved to the appropriate users. We would expect some further developed version of the Colony Network to be able provide this functionality to users.}

The administrator (usually the creator of the task) is responsible for selecting the evaluator and worker (by whatever means they deem appropriate) and setting additional metadata for the task:

\begin{itemize}
\item A due date, represented by a block number.
\item Payouts for each of the administrator, the worker and the evaluator. We anticipate that the worker will get the bulk of each payout, as they are actually doing the task.
\item A specification or brief for the task, to be used by the worker to guide the work, and by the evaluator for deciding if the work has been completed.
\end{itemize}

In order to create a task, the administrator must stake some number of Colony Tokens. This (small) stake is used to help discourage spamming of nonsense tasks, and provide a mechanism whereby the administrator can be punished upon bad behaviour. 

Defining what the payouts for each role should be, of course, does not provide the funds --- this must be done through the funding mechanisms in Colony (see Section \ref{sec:finance}). A funding proposal can be made by anyone, but the administrator is the natural person to do so.

Assigning the worker can only occur after the funds to satisfy the proposed payout have been received by the task, and both the administrator and proposed worker have indicated they are happy with the assignment. After that point, the worker and payout cannot be changed, though other variables associated with the task can be.

Once all these elements have been set and funding is secured, the worker is able to make a `final submission', which includes some proof that the work has been completed. We don't prescribe what the contents of this generic field should be, but we would expect an IPFS or Swarm hash referring to a longer file containing the proof to be the most common usage.

Once the due date has passed or the worker has made their submission, the evaluator is able to grade the work. Regardless of whether the grading is positive or not, the task then enters a state where \textbf{objections} to the final state of the task can still be made and \textbf{disputes} can be initiated (see Section \ref{sec:objections-and-disputes}), but no other changes are possible. Once three days have passed, no more objections or disputes can be raised. Once all pending disputes related to the task are resolved, the parties involved get punished or rewarded based on the final state of the task.

If the evaluator's grading for the work is changed as a result of a dispute, they get a reduced payout based on the discrepancy between their original score and the score that their peers determined to be more appropriate. If an objection has determined the administrator should be punished, they lose their stake, otherwise the stake is able to be reclaimed. The worker is paid based on the final score awarded to their work, taking into account the result of any disputes.

\subsection{Domains}\label{sec:domains}

Of course, in a large colony, it would quickly become difficult for users to find relevant tasks due to the sheer number of tasks. We therefore encourage users to create domains in their colony. These domains can contain both sub-domains and tasks, allowing users to structure their work. A toy example is shown in in Figure \ref{fig:domainhierarchysample}. 

\begin{figure}[h]
    \centering
 \begin{tikzpicture}
   \node[ellipse,draw, dashed] at (0,0) (tld) {Colony Domain};
   \node[ellipse,draw, dashed] at (-2,-2) (design) {Design};
   \node[ellipse,draw, dashed] at (2,-2) (development) {Development};
   \node[ellipse,draw, dashed] at (0.5,-4) (frontend) {Frontend};
   \node[ellipse,draw, dashed] at (4,-4) (backend) {Backend};
   \node[ellipse,draw, dashed] at (3,-6) (nodejs) {Node.js};
   \node[ellipse,draw, dashed] at (5,-6) (ruby) {Ruby}
    (tld.-120) edge[->, bend left=45, in=-120] (design.north)
    (tld.-60) edge[->, bend left=45, out=-60, in=120] (development.north)
    (development.-120) edge[->, bend left=45, in=-120] (frontend.north)
    (development.-60)  edge[->, bend left=45, out=-60, in=120] (backend.north)
    (backend.-120) edge[->, bend left=45, in=-120] (nodejs.north)
    (backend.-60)  edge[->, bend left=45, out=-60, in=120] (ruby.north);
 \end{tikzpicture}
 \caption{Parts of a possible domain hierarchy for a colony developing a web service.}
 \label{fig:domainhierarchysample}

\end{figure}

This compartmentalisation of activity in a colony provides a tangible benefit to the colony as a whole. When objections are raised, they can be raised to a specific level in the structural hierarchy provided by domains within a colony. This means that people with relevant contextual knowledge can be targeted for their opinion, and also means that when a dispute occurs the whole colony does not have to vote in the dispute. Only those users with the relevant skills are asked for their opinion.

We also note that on some level, it is up to individual colonies to decide how they wish to use domains --- some might only use them for coarse categorisations, whereas others may use them to very precisely group only the most similar tasks together, or even multiple tasks that other colonies would consider a single task. We aim to provide a general framework that colonies can use how they see fit, and to only be prescriptive in the service's use where necessary.
